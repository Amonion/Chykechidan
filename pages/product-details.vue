<template>
  <div>
    <div class="hero">
      <img
        src="/images/banner2.jpeg"
        loading="lazy"
        sizes="100vw"
        srcset="
          /images/banner2.jpeg  500w,
          /images/banner2.jpeg  800w,
          /images/banner2.jpeg 1080w,
          /images/banner2.jpeg 1600w,
          /images/banner2.jpeg 1920w
        "
        alt=""
        class="responsive-pix"
      />
      <div class="ero-cover"></div>
      <div class="custom-container">
        <div class="custom-flex ero">
          <div class="ero-title">SHOP</div>
          <div class="ero-link">
            [<NuxtLink to="/" class="ero-text-link active">Home</NuxtLink> -
            Shop]
          </div>
        </div>
      </div>
    </div>
    <div class="maintenance">
      <div class="custom-container">
        <div class="w-form">
          <form
            id="email-form-2"
            name="email-form-2"
            data-name="Email Form 2"
            method="get"
            class="mentainance-flex product"
            data-wf-page-id="6625e0ead22d28967a51b666"
            data-wf-element-id="17a4e1a4-c9b6-826d-2492-b8749b5d698d"
          >
            <div class="product-allery">
              <div class="product-allery-main">
                <img
                  src="https://cdn.prod.website-files.com/6625e0ead22d28967a51b65f/66553d4edd239d80de10e43f_product4.jpg"
                  loading="lazy"
                  alt=""
                  class="responsive-pix"
                />
              </div>
              <div class="product-allery-rit">
                <div class="product-allery-small">
                  <img
                    src="https://cdn.prod.website-files.com/6625e0ead22d28967a51b65f/66553d4e4066cfa8711522a7_product5.jpg"
                    loading="lazy"
                    alt=""
                    class="responsive-pix"
                  />
                  <div class="allery-cover"></div>
                </div>
                <div class="product-allery-small">
                  <img
                    src="https://cdn.prod.website-files.com/6625e0ead22d28967a51b65f/66553d4e4066cfa8711522a7_product5.jpg"
                    loading="lazy"
                    alt=""
                    class="responsive-pix"
                  />
                  <div class="allery-cover"></div>
                </div>
                <div class="product-allery-small">
                  <img
                    src="https://cdn.prod.website-files.com/6625e0ead22d28967a51b65f/66553d4e4066cfa8711522a7_product5.jpg"
                    loading="lazy"
                    alt=""
                    class="responsive-pix"
                  />
                  <div class="allery-cover"></div>
                </div>
              </div>
            </div>
            <div class="product-description-wrap">
              <div class="product-name b">300W Solar Inverter Panel</div>
              <div
                id="w-node-_420aba6f-af90-c62d-0cc4-41babb020328-7a51b666"
                class="product-prices b"
              >
                <div class="old-price">N200K</div>
                <div>N199K</div>
              </div>
              <div class="description">
                Donec sodales elit id ante pulvinar sagittis. Nulla sit amet
                facilisis leo, eget tempor dui. Sed elit arcu, porttitor vitae
                rutrum eu, malesuada in magna. Curabitur dui justo, egestas sit
                amet scelerisque vel, tincidunt id augue. Sed maximus mi nec
                ullamcorper aliquam. Proin finibus erat feugiat dolor blandit,
                ac dignissim libero volutpat.<br />
              </div>
              <div
                id="w-node-_9a205818-2c68-7b76-f78e-27406e231e17-7a51b666"
                class="pro-action-flex"
              >
                <div class="pro-action">-</div>
                <div class="pro-quantity">0</div>
                <div class="pro-action">+</div>
              </div>
            </div>
            <div class="related-products">
              <div class="product-name b">300W Solar Inverter Panel</div>
              <div
                id="w-node-_61615890-3a3a-eac6-dbd6-63656c0d669f-7a51b666"
                class="eac-product-rid related"
              >
                <div
                  id="w-node-_61615890-3a3a-eac6-dbd6-63656c0d66a0-7a51b666"
                  class="product-pix"
                >
                  <img
                    src="https://cdn.prod.website-files.com/6625e0ead22d28967a51b65f/66553d4edd239d80de10e43f_product4.jpg"
                    loading="lazy"
                    alt=""
                    class="product-im"
                  />
                </div>
                <a href="#" class="product-name">SOLAR CHARGE</a>
                <div
                  id="w-node-_61615890-3a3a-eac6-dbd6-63656c0d66a4-7a51b666"
                  class="product-prices"
                >
                  <div class="old-price">N200K</div>
                  <div>N199K</div>
                </div>
                <div
                  id="w-node-_61615890-3a3a-eac6-dbd6-63656c0d66a9-7a51b666"
                  class="pro-action-flex"
                >
                  <div class="pro-action">-</div>
                  <div class="pro-quantity">0</div>
                  <div class="pro-action">+</div>
                </div>
              </div>
              <div
                id="w-node-_31ba8a3f-000a-a994-5934-c8c3947ca4cd-7a51b666"
                class="eac-product-rid related"
              >
                <div
                  id="w-node-_31ba8a3f-000a-a994-5934-c8c3947ca4ce-7a51b666"
                  class="product-pix"
                >
                  <img
                    src="https://cdn.prod.website-files.com/6625e0ead22d28967a51b65f/66553d4edd239d80de10e43f_product4.jpg"
                    loading="lazy"
                    alt=""
                    class="product-im"
                  />
                </div>
                <a href="#" class="product-name">SOLAR CHARGE</a>
                <div
                  id="w-node-_31ba8a3f-000a-a994-5934-c8c3947ca4d2-7a51b666"
                  class="product-prices"
                >
                  <div class="old-price">N200K</div>
                  <div>N199K</div>
                </div>
                <div
                  id="w-node-_31ba8a3f-000a-a994-5934-c8c3947ca4d7-7a51b666"
                  class="pro-action-flex"
                >
                  <div class="pro-action">-</div>
                  <div class="pro-quantity">0</div>
                  <div class="pro-action">+</div>
                </div>
              </div>
              <div
                id="w-node-_46c94ecb-2f43-be1a-9a12-e97cea742876-7a51b666"
                class="eac-product-rid related"
              >
                <div
                  id="w-node-_46c94ecb-2f43-be1a-9a12-e97cea742877-7a51b666"
                  class="product-pix"
                >
                  <img
                    src="https://cdn.prod.website-files.com/6625e0ead22d28967a51b65f/66553d4edd239d80de10e43f_product4.jpg"
                    loading="lazy"
                    alt=""
                    class="product-im"
                  />
                </div>
                <a href="#" class="product-name">SOLAR CHARGE</a>
                <div
                  id="w-node-_46c94ecb-2f43-be1a-9a12-e97cea74287b-7a51b666"
                  class="product-prices"
                >
                  <div class="old-price">N200K</div>
                  <div>N199K</div>
                </div>
                <div
                  id="w-node-_46c94ecb-2f43-be1a-9a12-e97cea742880-7a51b666"
                  class="pro-action-flex"
                >
                  <div class="pro-action">-</div>
                  <div class="pro-quantity">0</div>
                  <div class="pro-action">+</div>
                </div>
              </div>
              <div
                id="w-node-f537c5de-bd09-be5b-3772-b9c127e3fd3e-7a51b666"
                class="eac-product-rid related"
              >
                <div
                  id="w-node-f537c5de-bd09-be5b-3772-b9c127e3fd3f-7a51b666"
                  class="product-pix"
                >
                  <img
                    src="https://cdn.prod.website-files.com/6625e0ead22d28967a51b65f/66553d4edd239d80de10e43f_product4.jpg"
                    loading="lazy"
                    alt=""
                    class="product-im"
                  />
                </div>
                <a href="#" class="product-name">SOLAR CHARGE</a>
                <div
                  id="w-node-f537c5de-bd09-be5b-3772-b9c127e3fd43-7a51b666"
                  class="product-prices"
                >
                  <div class="old-price">N200K</div>
                  <div>N199K</div>
                </div>
                <div
                  id="w-node-f537c5de-bd09-be5b-3772-b9c127e3fd48-7a51b666"
                  class="pro-action-flex"
                >
                  <div class="pro-action">-</div>
                  <div class="pro-quantity">0</div>
                  <div class="pro-action">+</div>
                </div>
              </div>
              <div
                id="w-node-b4d73d7a-e651-ff57-a363-f89fb68b8340-7a51b666"
                class="eac-product-rid related"
              >
                <div
                  id="w-node-b4d73d7a-e651-ff57-a363-f89fb68b8341-7a51b666"
                  class="product-pix"
                >
                  <img
                    src="https://cdn.prod.website-files.com/6625e0ead22d28967a51b65f/66553d4edd239d80de10e43f_product4.jpg"
                    loading="lazy"
                    alt=""
                    class="product-im"
                  />
                </div>
                <a href="#" class="product-name">SOLAR CHARGE</a>
                <div
                  id="w-node-b4d73d7a-e651-ff57-a363-f89fb68b8345-7a51b666"
                  class="product-prices"
                >
                  <div class="old-price">N200K</div>
                  <div>N199K</div>
                </div>
                <div
                  id="w-node-b4d73d7a-e651-ff57-a363-f89fb68b834a-7a51b666"
                  class="pro-action-flex"
                >
                  <div class="pro-action">-</div>
                  <div class="pro-quantity">0</div>
                  <div class="pro-action">+</div>
                </div>
              </div>
            </div>
          </form>
          <div class="w-form-done">
            <div>Thank you! Your submission has been received!</div>
          </div>
          <div class="w-form-fail">
            <div>Oops! Something went wrong while submitting the form.</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import HeroSlider from "../components/HeroSlider.vue";
import Testimonial from "../components/Testimonial.vue";
export default {
  components: { HeroSlider, Testimonial },
  layout: "home",
  data() {
    return {
      limit: 8,
      currentPage: 1,
      sort: "name",
      productWord: "",

      pages() {
        let array = [];
        let x = Math.ceil(this.total / this.limit);
        for (let i = 0; i < x; i++) {
          array.push("i");
        }
        return array;
      },
    };
  },
  methods: {
    truncateText(text, maxLength) {
      if (text.length > maxLength) {
        return text.substring(0, maxLength) + "...";
      }
      return text;
    },

    numberWithCommas(number) {
      return number.toLocaleString("en-US", { maximumFractionDigits: 2 });
    },

    formatDateToDD(dateString) {
      const options = { day: "2-digit" };
      const date = new Date(dateString);
      const formattedDate = new Intl.DateTimeFormat("en-US", options).format(
        date
      );
      return formattedDate;
    },

    formatDateToMon(dateString) {
      const options = { month: "short" };
      const date = new Date(dateString);
      const formattedDate = new Intl.DateTimeFormat("en-US", options).format(
        date
      );
      return formattedDate;
    },

    addProduct(product) {
      this.$store.commit("productStore/ADD_TO_CART", product);
    },

    removeProduct(product) {
      this.$store.commit("productStore/REMOVE_FROM_CART", product);
    },

    paginate(page) {
      this.currentPage = page;
      this.getProducts();
    },

    async searchProduct() {
      const result = await this.$store.dispatch(
        "MAKE_GET",
        `/products/?name=${this.productWord}&limit=20&page=1`
      );
      this.$store.commit("productStore/SET_PRODUCTS", result.data);
    },

    async getProducts() {
      this.$store.dispatch(
        "productStore/GET_PRODUCTS",
        `/products/?limit=${this.limit}&page=${this.currentPage}&sort=${this.sort}`
      );
    },
  },

  computed: {
    FILE_URL() {
      return this.$store.state.fileURL;
    },

    company() {
      return this.$store.state.company;
    },

    items() {
      return this.$store.state.productStore.products;
    },

    total() {
      return this.$store.state.productStore.productLength;
    },
  },
};
</script>

<style>
a.first-link-header {
  text-decoration: none;
  color: black;
}

.cover {
  background-color: rgba(255, 111, 0, 0.151);
}
</style>
